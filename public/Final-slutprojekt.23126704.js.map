{"mappings":"ACAA,MAAM,EACF,yFAGJ,OAAM,EACF,YAAY,CAAI,CAAE,CAAO,CAAE,CACvB,IAAI,CAAC,IAAI,CAAG,EACZ,IAAI,CAAC,OAAO,CAAG,EACf,IAAI,CAAC,SAAS,CAAG,IAAI,OAAO,cAAc,EAC9C,CACJ,CAEA,eAAe,IAEX,AADoB,SAAS,gBAAgB,CAAC,iBAClC,OAAO,CAAC,AAAC,IAEjB,WAAW,KACP,EAAI,SAAS,CAAC,GAAG,CAAC,SAClB,WAAW,KACP,EAAI,SAAS,CAAC,MAAM,CAAC,QACzB,EAAG,IACP,EANc,AAAgB,IAAhB,KAAK,MAAM,GAO7B,EACJ,CAEO,eAAe,EAAW,CAAK,EAClC,EAAM,cAAc,GACpB,IAAM,EAAY,SAAS,aAAa,CAAC,SACnC,EAAe,SAAS,aAAa,CAAC,iBAEtC,EAAO,EAAU,KAAK,CAAC,IAAI,GAC3B,EAAU,EAAa,KAAK,CAAC,IAAI,GAEvC,GAAI,CAAC,GAAQ,CAAC,EAAS,CACnB,MAAM,iCACN,MACJ,CAIA,IAAM,EAAU,CACZ,OAAQ,OACR,KAAM,KAAK,SAAS,CAJL,IAAI,EAAY,EAAM,IAKrC,QAAS,CACL,eAAgB,iCACpB,CACJ,EAEA,GAAI,CACA,IAAM,EAAM,MAAM,MAAM,EAAU,GAClC,GAAI,CAAC,EAAI,EAAE,CACP,MAAM,AAAI,MACN,0DAGR,IAAM,EAAO,MAAM,EAAI,IAAI,GAC3B,QAAQ,GAAG,CAAC,iBAAkB,GAE9B,IAEA,EAAU,KAAK,CAAG,GAClB,EAAa,KAAK,CAAG,EACzB,CAAE,MAAO,EAAO,CACZ,QAAQ,KAAK,CAAC,SAAU,GACxB,MAAM,sCACV,CACJ,CAEO,eAAe,IAClB,GAAI,CACA,IAAM,EAAM,MAAM,MAAM,GACxB,GAAI,CAAC,EAAI,EAAE,CAAE,MAAM,AAAI,MAAM,4BAE7B,IAAM,EAAO,MAAM,EAAI,IAAI,GACrB,EAAe,EAAO,OAAO,MAAM,CAAC,GAAQ,EAAE,EAEpD,AAMD,SAAyB,CAAQ,EACpC,IAAM,EAAiB,SAAS,aAAa,CAAC,mBAE9C,GAAI,CAAC,EAAgB,CACjB,QAAQ,KAAK,CAAC,oCACd,MACJ,CAEA,EAAe,SAAS,CAAG,GAE3B,EAAS,OAAO,CAAC,AAAC,IACd,IAAM,EAAiB,SAAS,aAAa,CAAC,OAC9C,EAAe,SAAS,CAAC,GAAG,CAAC,gBAE7B,EAAe,SAAS,CAAG;AACX,wBAAA,EAAE,EAAQ,IAAI,CAAC,WAAW,EAAE,EAAQ,SAAS,CAAC;AACtD,gBAAA,EAAE,EAAQ,OAAO;A;AAErB,YAAA,CAAC,CACL,EAAe,OAAO,CAAC,GACvB,GACJ,EACJ,EA5BwB,EACpB,CAAE,MAAO,EAAO,CACZ,QAAQ,KAAK,CAAC,2BAA4B,EAC9C,CACJ,CA0BA,SAAS,gBAAgB,CAAC,mBAAoB,KAC1C,IAEA,IAAM,EAAY,SAAS,aAAa,CAAC,iBACrC,EACA,EAAU,gBAAgB,CAAC,QAAS,GAEpC,QAAQ,KAAK,CAAC,QAEtB,GACA,eAAe,OAAO,CAAC","sources":["<anon>","js/api.js"],"sourcesContent":["const $73936c209f170d43$var$base_url = \"https://fe24-vs-grupp1-slutprojekt-default-rtdb.europe-west1.firebasedatabase.app/.json\";\n// comments\n// 채nnu mer comments lol\nclass $73936c209f170d43$var$MessageInfo {\n    constructor(name, message){\n        this.name = name;\n        this.message = message;\n        this.timestamp = new Date().toLocaleString(); // Ger ett l채sbart datum och tid\n    }\n}\nasync function $73936c209f170d43$var$shakeMessages() {\n    const allMessages = document.querySelectorAll(\".message-item\");\n    allMessages.forEach((msg)=>{\n        const delay = Math.random() * 500;\n        setTimeout(()=>{\n            msg.classList.add(\"shake\");\n            setTimeout(()=>{\n                msg.classList.remove(\"shake\");\n            }, 1000);\n        }, delay);\n    });\n}\nasync function $73936c209f170d43$export$16fdb433d434f08(event) {\n    event.preventDefault();\n    const nameInput = document.querySelector(\"#name\");\n    const messageInput = document.querySelector(\"#messageBoard\");\n    const name = nameInput.value.trim();\n    const message = messageInput.value.trim();\n    if (!name || !message) {\n        alert(\"Provide both name and message\");\n        return;\n    }\n    const newMessage = new $73936c209f170d43$var$MessageInfo(name, message);\n    const options = {\n        method: \"POST\",\n        body: JSON.stringify(newMessage),\n        headers: {\n            \"Content-Type\": \"application/json; charset=UTF-8\"\n        }\n    };\n    try {\n        const res = await fetch($73936c209f170d43$var$base_url, options);\n        if (!res.ok) throw new Error(\"Something went wrong when adding a message. Try again!\");\n        const data = await res.json();\n        console.log(\"Message added:\", data);\n        $73936c209f170d43$export$e4882a930a0d91f2();\n        nameInput.value = \"\";\n        messageInput.value = \"\";\n    } catch (error) {\n        console.error(\"Error:\", error);\n        alert(\"Could not add a message, try again!\");\n    }\n}\nasync function $73936c209f170d43$export$e4882a930a0d91f2() {\n    try {\n        const res = await fetch($73936c209f170d43$var$base_url);\n        if (!res.ok) throw new Error(\"Could not fetch messages\");\n        const data = await res.json();\n        const messageArray = data ? Object.values(data) : [];\n        $73936c209f170d43$export$45fca88945de8b8a(messageArray);\n    } catch (error) {\n        console.error(\"Error fetching messages:\", error);\n    }\n}\nfunction $73936c209f170d43$export$45fca88945de8b8a(messages) {\n    const messageDisplay1 = document.querySelector(\"#messageDisplay\");\n    if (!messageDisplay1) {\n        console.error(\"Error: #messageDisplay not found\");\n        return;\n    }\n    messageDisplay1.innerHTML = \"\";\n    messages.forEach((message)=>{\n        const messageElement1 = document.createElement(\"div\");\n        messageElement1.classList.add(\"message-item\");\n        messageElement1.innerHTML = `\n                <strong>${message.name}</strong> (${message.timestamp}) <br>\n                ${message.message}\n                <hr>\n            `;\n        messageDisplay1.prepend(messageElement1);\n        $73936c209f170d43$var$shakeMessages();\n    });\n}\ndocument.addEventListener(\"DOMContentLoaded\", ()=>{\n    $73936c209f170d43$export$e4882a930a0d91f2();\n    const submitBtn = document.querySelector(\"#submitButton\");\n    if (submitBtn) submitBtn.addEventListener(\"click\", $73936c209f170d43$export$16fdb433d434f08);\n    else console.error(\"Error\");\n});\nmessageDisplay.prepend(messageElement);\n\n\n//# sourceMappingURL=Final-slutprojekt.23126704.js.map\n","const base_url =\n    \"https://fe24-vs-grupp1-slutprojekt-default-rtdb.europe-west1.firebasedatabase.app/.json\";\n// comments\n// 채nnu mer comments lol\nclass MessageInfo {\n    constructor(name, message) {\n        this.name = name;\n        this.message = message;\n        this.timestamp = new Date().toLocaleString(); // Ger ett l채sbart datum och tid\n    }\n}\n\nasync function shakeMessages() {\n    const allMessages = document.querySelectorAll(\".message-item\");\n    allMessages.forEach((msg) => {\n        const delay = Math.random() * 500;\n        setTimeout(() => {\n            msg.classList.add(\"shake\");\n            setTimeout(() => {\n                msg.classList.remove(\"shake\");\n            }, 1000);\n        }, delay);\n    });\n}\n\nexport async function addMessage(event) {\n    event.preventDefault();\n    const nameInput = document.querySelector(\"#name\");\n    const messageInput = document.querySelector(\"#messageBoard\");\n\n    const name = nameInput.value.trim();\n    const message = messageInput.value.trim();\n\n    if (!name || !message) {\n        alert(\"Provide both name and message\");\n        return;\n    }\n\n    const newMessage = new MessageInfo(name, message);\n\n    const options = {\n        method: \"POST\",\n        body: JSON.stringify(newMessage),\n        headers: {\n            \"Content-Type\": \"application/json; charset=UTF-8\",\n        },\n    };\n\n    try {\n        const res = await fetch(base_url, options);\n        if (!res.ok)\n            throw new Error(\n                \"Something went wrong when adding a message. Try again!\"\n            );\n\n        const data = await res.json();\n        console.log(\"Message added:\", data);\n\n        fetchMessages();\n\n        nameInput.value = \"\";\n        messageInput.value = \"\";\n    } catch (error) {\n        console.error(\"Error:\", error);\n        alert(\"Could not add a message, try again!\");\n    }\n}\n\nexport async function fetchMessages() {\n    try {\n        const res = await fetch(base_url);\n        if (!res.ok) throw new Error(\"Could not fetch messages\");\n\n        const data = await res.json();\n        const messageArray = data ? Object.values(data) : [];\n\n        displayMessages(messageArray);\n    } catch (error) {\n        console.error(\"Error fetching messages:\", error);\n    }\n}\n\nexport function displayMessages(messages) {\n    const messageDisplay = document.querySelector(\"#messageDisplay\");\n\n    if (!messageDisplay) {\n        console.error(\"Error: #messageDisplay not found\");\n        return;\n    }\n\n    messageDisplay.innerHTML = \"\";\n\n    messages.forEach((message) => {\n        const messageElement = document.createElement(\"div\");\n        messageElement.classList.add(\"message-item\");\n\n        messageElement.innerHTML = `\n                <strong>${message.name}</strong> (${message.timestamp}) <br>\n                ${message.message}\n                <hr>\n            `;\n        messageDisplay.prepend(messageElement);\n        shakeMessages();\n    });\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n    fetchMessages();\n\n    const submitBtn = document.querySelector(\"#submitButton\");\n    if (submitBtn) {\n        submitBtn.addEventListener(\"click\", addMessage);\n    } else {\n        console.error(\"Error\");\n    }\n});\nmessageDisplay.prepend(messageElement);\n"],"names":["$73936c209f170d43$var$base_url","$73936c209f170d43$var$MessageInfo","constructor","name","message","timestamp","Date","toLocaleString","$73936c209f170d43$var$shakeMessages","allMessages","document","querySelectorAll","forEach","msg","setTimeout","classList","add","remove","Math","random","$73936c209f170d43$export$16fdb433d434f08","event","preventDefault","nameInput","querySelector","messageInput","value","trim","alert","options","method","body","JSON","stringify","headers","res","fetch","ok","Error","data","json","console","log","$73936c209f170d43$export$e4882a930a0d91f2","error","messageArray","Object","values","$73936c209f170d43$export$45fca88945de8b8a","messages","messageDisplay1","innerHTML","messageElement1","createElement","prepend","addEventListener","submitBtn","messageDisplay","messageElement"],"version":3,"file":"Final-slutprojekt.23126704.js.map"}