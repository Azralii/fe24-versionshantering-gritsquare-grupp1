{"mappings":"","sources":["js/api.js"],"sourcesContent":["const base_url = \"https://fe24-vs-grupp1-slutprojekt-default-rtdb.europe-west1.firebasedatabase.app/\";\n// comments\n\nclass MessageInfo {\n    constructor(name, message) {\n        this.name = name;\n        this.message = message;\n        this.timestamp = new Date().toLocaleString(); // Ger ett l√§sbart datum och tid\n    }\n}\n\n    export async function addMessage(event) {\n        event.preventDefault();\n\n        const name = document.querySelector('#name').value.trim();\n        const message = document.querySelector('#messageBoard').value.trim();\n\n        if (!name || !message) {\n            alert('Provide both name and message');\n            return;\n        }\n\n        const newMessage = new MessageInfo(name, message)\n\n        const options = {\n            method: \"POST\", \n            body: JSON.stringify(newMessage),\n            headers: {\n                \"Content-Type\": \"application/json; charset=UTF-8\"\n            }\n        };\n\n        try {\n            const res = await fetch(base_url, options);\n            if (!res.ok) throw new Error(\"Something went wrong when adding a message. Try again!\");\n\n            const data = await res.json();\n            console.log(\"Message added:\", data);\n\n            document.querySelector('#name').value = \"\";\n            document.querySelector('#messageBoard').value = \"\";\n\n        } catch (error) {\n            console.error(\"Error:\", error);\n            alert(\"Could not add a message, try again!\");\n        }\n    }"],"names":[],"version":3,"file":"Final-slutprojekt.05c058af.js.map"}