const e="https://fe24-vs-grupp1-slutprojekt-default-rtdb.europe-west1.firebasedatabase.app/.json";class t{constructor(e,t){this.name=e,this.message=t,this.timestamp=new Date().toLocaleString()}}async function a(){document.querySelectorAll(".message-item").forEach(e=>{setTimeout(()=>{e.classList.add("shake"),setTimeout(()=>{e.classList.remove("shake")},1e3)},500*Math.random())})}async function r(a){a.preventDefault();let r=document.querySelector("#name"),o=document.querySelector("#messageBoard"),n=r.value.trim(),c=o.value.trim();if(!n||!c){alert("Provide both name and message");return}let i={method:"POST",body:JSON.stringify(new t(n,c)),headers:{"Content-Type":"application/json; charset=UTF-8"}};try{let t=await fetch(e,i);if(!t.ok)throw Error("Something went wrong when adding a message. Try again!");let a=await t.json();console.log("Message added:",a),s(),r.value="",o.value=""}catch(e){console.error("Error:",e),alert("Could not add a message, try again!")}}async function s(){try{let t=await fetch(e);if(!t.ok)throw Error("Could not fetch messages");let r=await t.json(),s=r?Object.values(r):[];!function(e){let t=document.querySelector("#messageDisplay");if(!t){console.error("Error: #messageDisplay not found");return}t.innerHTML="",e.forEach(e=>{let r=document.createElement("div");r.classList.add("message-item"),r.innerHTML=`
                <strong>${e.name}</strong> (${e.timestamp}) <br>
                ${e.message}
                <hr>
            `,t.prepend(r),a()})}(s)}catch(e){console.error("Error fetching messages:",e)}}document.addEventListener("DOMContentLoaded",()=>{s();let e=document.querySelector("#submitButton");e?e.addEventListener("click",r):console.error("Error")}),messageDisplay.prepend(messageElement);
//# sourceMappingURL=Final-slutprojekt.23126704.js.map
